#include <stdio.h>

int a[10][10], vis[10]={0}, n;

void dfs(int v){
    printf("%d ",v);
    vis[v]=1;
    for(int i=0;i<n;i++)
        if(a[v][i] && !vis[i]) dfs(i);
}

int main(){
    int start;
    scanf("%d",&n);
    for(int i=0;i<n;i++)
        for(int j=0;j<n;j++)
            scanf("%d",&a[i][j]);
    scanf("%d",&start);
    dfs(start);
}
