#include <stdio.h>

int main(){
    int n, a[10][10], q[10], vis[10]={0}, front=0, rear=0, i, j, start;
    scanf("%d",&n);
    for(i=0;i<n;i++) for(j=0;j<n;j++) scanf("%d",&a[i][j]);
    scanf("%d",&start);
    q[rear++]=start; vis[start]=1;
    while(front<rear){
        int u=q[front++];
        printf("%d ",u);
        for(i=0;i<n;i++)
            if(a[u][i] && !vis[i]){
                q[rear++]=i;
                vis[i]=1;
            }
    }
}
